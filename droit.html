<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Page de Contenu - SCD</title>

    <link rel="stylesheet" href="css/menu_de_navigation.css">
    <link rel="stylesheet" href="css/styles.css">

    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
        
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

    <script type="module" src="https://olivierscdum.github.io/maquette/discovery-showcase.bundled.js"></script>

</head>
<body class="bg-gray-50">
    
         <div id="header-container" class="sticky top-0 z-50 w-full"></div>
    
    <div class="w-full py-12 px-4 sm:px-6 lg:px-40">
        <div class="lg:grid lg:grid-cols-5 lg:gap-8">

            <aside class="lg:col-span-1 mb-12 lg:mb-0">
                <nav id="side-nav" class="sticky top-24 space-y-2 bg-stone-200 rounded-lg p-4">
                    
                    <a href="page-des-bus.html" class="side-nav-item">
                        <span class="material-symbols-outlined">domain</span>
                        <span>Les BUs</span>
                    </a>


                    <a href="page-des-bus.html" class="side-nav-item">
                        <span class="material-symbols-outlined">design_services</span>
                        <span>Services en BU</span>
                    </a>
                    <div> 
                        <button type="button" class="side-nav-toggle active" data-default-active="true">
                            <span class="flex items-center">
                                <span class="material-symbols-outlined">collections_bookmark</span>
                                <span>Ressources documentaires</span>
                            </span>
                            <span class="material-symbols-outlined icon-toggle rotate-90">chevron_right</span>
                        </button>
                        
                        <div class="side-nav-submenu">
                            
                            <div> 
                                <button type="button" class="side-nav-toggle active"data-default-active="true">
                                    <span class="flex items-center">
                                        <span>Par discipline</span>
                                    </span>
                                    <span class="material-symbols-outlined icon-toggle">chevron_right</span>
                                </button>
                                
                                <div class="side-nav-submenu">
                                    <a href="#discipline" class="side-nav-sublink active"data-default-active="true">Droit</a>
                                    <a href="#ressource-sciences" class="side-nav-sublink">Sciences et techniques</a>
                                    <a href="#ressource-eco" class="side-nav-sublink">Science économique et gestion</a>
                                    <a href="#ressource-sante" class="side-nav-sublink">Santé</a>
                                    <a href="#ressource-shs" class="side-nav-sublink">SHS et science de l'éducation</a>
                                </div>
                            </div>

                            <a href="#ressource-um" class="side-nav-sublink">Les publications de l'UM</a>
                        </div>
                    </div>
                    
                        

                    <a href="page-des-bus.html" class="side-nav-item">
                        <span class="material-symbols-outlined">school</span>
                        <span>Formation / Accompagnement</span>
                    </a>
                    
                    <a href="page-appui-recherche.html" class="side-nav-item">
                        <span class="material-symbols-outlined">science</span>
                        <span>Appui à la recherche</span>
                    </a>

                </nav>
            </aside>

    <main class="lg:col-span-4 bg-white rounded-xl shadow-lg p-6 sm:p-8">
                
                <div class="sticky top-20 z-10 bg-white mb-8 border-b border-gray-200 pb-6 -mt-6 -mx-6 sm:-mt-8 sm:-mx-8 px-6 sm:px-8 rounded-t-xl">
                    <h1 class="text-3xl font-bold text-gray-800 flex items-center gap-3">
                        <span class="material-symbols-outlined text-4xl text-rose-600">collections_bookmark</span>
                        <span>Ressources documentaires</span>
                    </h1>
                </div>

                <div class="prose max-w-none">
                    
                                      
                    <section id="discipline" class="mt-8">
                        
                        <h2 class="text-2xl font-semibold text-gray-800 flex items-center gap-3 mb-6">
                            <span class="material-symbols-outlined text-3xl text-rose-600">balance</span>
                            <span>Droit</span>
                        </h2>

                        <section class="bg-stone-100 py-12 shadow-sm -mx-6 sm:-mx-8">
    
                            <div class="container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"> 
                                
                                <div class="grid grid-cols-2 gap-6 md:grid-cols-3">

                                    <a href="https://catalogue.scdi-montpellier.fr/view/action/uresolver.do?operation=resolveService&package_service_id=17430603840004231&institutionId=4231&customerId=4230&VE=true" class="logo-vignette group block bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden">
                                        <div class="h-24 bg-white flex items-center justify-center p-4">
                                        <img src="https://upload.wikimedia.org/wikipedia/fr/thumb/e/e9/Dalloz.svg/120px-Dalloz.svg.png?20170522092712" alt="Logo Dalloz" class="max-h-20 w-auto object-contain">
                                        </div>
                                        <div class="p-4 border-t border-gray-100">
                                            <h3 class="font-semibold text-gray-800 group-hover:text-rose-600">
                                            Dalloz
                                            </h3>
                                        </div>
                                    </a>

                                    <a href="#" class="logo-vignette group block bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden">
                                        <div class="h-24 bg-white flex items-center justify-center p-4">
                                            <img src="https://via.placeholder.com/150x60.png?text=Logo+Lexis+360" alt="Logo Lexis 360" class="max-h-20 w-auto object-contain">
                                        </div>
                                        <div class="p-4 border-t border-gray-100">
                                            <h3 class="font-semibold text-gray-800 group-hover:text-rose-600">
                                                Lexis 360
                                            </h3>
                                        </div>
                                    </a>

                                  <a href="#" class="logo-vignette group block bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden">
                                        <div class="h-24 bg-white flex items-center justify-center p-4">
                                            <img src="https://via.placeholder.com/150x60.png?text=Logo+Lextenso" alt="Logo Lextenso" class="max-h-20 w-auto object-contain">
                                        </div>
                                        <div class="p-4 border-t border-gray-100">
                                           <h3 class="font-semibold text-gray-800 group-hover:text-rose-600">
                                                Lextenso
                                            </h3>
                                        </div>
                                    </a>

                                    <a href="#" class="logo-vignette group block bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden">
                                        <div class="h-24 bg-white flex items-center justify-center p-4">
                                            <img src="https://via.placeholder.com/150x60.png?text=Logo+Lamyline" alt="Logo Lamyline" class="max-h-20 w-auto object-contain">
                                        </div>
                                        <div class="p-4 border-t border-gray-100">
                                            <h3 class="font-semibold text-gray-800 group-hover:text-rose-600">
                                                Lamyline
                                            </h3>
                                        </div>
                                    </a>

                                    <a href="#" class="logo-vignette group block bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden">
                                        <div class="h-24 bg-white flex items-center justify-center p-4">
                                            <img src="https://via.placeholder.com/150x60.png?text=Logo+Doctrinal" alt="Logo Doctrinal" class="max-h-20 w-auto object-contain">
                                        </div>
                                        <div class="p-4 border-t border-gray-100">
                                            <h3 class="font-semibold text-gray-800 group-hover:text-rose-600">
                                                Doctrinal
                                            </h3>
                                        </div>
                                    </a>

                                    <a href="#" class="logo-vignette group block bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden">
                                        <div class="h-24 bg-white flex items-center justify-center p-4">
                                            <img src="https://via.placeholder.com/150x60.png?text=Autre+Base" alt="Logo Autre Base" class="max-h-20 w-auto object-contain">
                                        </div>
                                        <div class="p-4 border-t border-gray-100">
                                           <h3 class="font-semibold text-gray-800 group-hover:text-rose-600">
                                                Autre Base
                                            </h3>
                                        </div>
                                    </a>

                                </div> <div class="text-center mt-12">
                                    <a href="#" class="inline-block bg-rose-600 text-white font-semibold px-6 py-3 rounded-lg shadow-md hover:bg-rose-700 transition-colors duration-300">
                                        Toutes les bases juridiques
                                    </a>
                                </div>

                            </div> </section>
                        </section>

                    <section id="" class="mt-8">
                        <h2>Sélection de "best sellers"</h2>
                    </section> 
                    
                    <section class="mt-12 not-prose">
    <div class="carousel-wrapper">
        <search-carousel 
            titleLink="https://mon-psb.alma.exlibrisgroup.com/nde/search?query=droit%20propriété%20nitellectuelle&tab=Everything&search_scope=MyInst_and_CI&pfilter=rtype,exact,books&searchInFulltext=false&vid=33MON_INST:33UM_NDE_VU1&lang=fr" 
            defaultThumbnailUrl="https://proxy-eu.hosted.exlibrisgroup.com/exl_rewrite/syndetics.com/index.php?client=primo" 
            searchUrl="https://mon-psb.alma.exlibrisgroup.com/primaws/rest/external/pnxs?citationTrailFilterByAvailability=true&limit=10&newspapersActive=false&newspapersSearch=false&offset=0&pcAvailability=false&scope=MyInst_and_CI&searchInFulltextUserSelection=false&disableCache=false&skipDelivery=Y&sort=rank&tab=Everything&inst=33MON_INST&rapido=false&refEntryActive=false&rtaLinks=true&qInclude=&qExclude=&multiFacets=&q=any%2Ccontains%2Cdroit%20propriété%20nitellectuelle%2CAND%3Brtype%2Cexact%2Cbooks&isCDSearch=false&featuredNewspapersIssnList=&lang=fr&explain=&otbRanking=&vid=33MON_INST:33UM_NDE_VU1"> 
        </search-carousel>
    </div>
</section>
                   <section class="mt-12 bg-stone-100 py-16 -mx-6 sm:-mx-8 px-6 sm:px-8 shadow-inner">

            <h2 class="text-3xl font-bold text-gray-800 text-center mb-12">
                Bibliographies de vos enseignants
            </h2>

            <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-8 max-w-4xl mx-auto">

                <a href="#" class="not-prose quick-button-link">
                    <div class="quick-button-icon-wrapper">
                        <span class="material-symbols-outlined">auto_stories</span>
                    </div>
                    <span class="quick-button-label">Bibliographie 1</span>
                </a>

                <a href="#" class="not-prose quick-button-link">
                    <div class="quick-button-icon-wrapper">
                        <span class="material-symbols-outlined">auto_stories</span>
                    </div>
                    <span class="quick-button-label">Bibliographie 2</span>
                </a>

                <a href="#" class="not-prose quick-button-link">
                    <div class="quick-button-icon-wrapper">
                        <span class="material-symbols-outlined">auto_stories</span>
                    </div>
                    <span class="quick-button-label">Bibliographie 3</span>
                </a>

                <a href="#" class="not-prose quick-button-link">
                    <div class="quick-button-icon-wrapper">
                        <span class="material-symbols-outlined">auto_stories</span>
                    </div>
                    <span class="quick-button-label">Bibliographie 4</span>
                </a>

                <a href="#" class="not-prose quick-button-link">
                    <div class="quick-button-icon-wrapper">
                        <span class="material-symbols-outlined">auto_stories</span>
                    </div>
                    <span class="quick-button-label">Bibliographie 5</span>
                </a>
            </div>

            <div class="text-center mt-12">
                <a href="#" class="not-prose inline-block bg-rose-600 text-white font-semibold px-6 py-3 rounded-lg shadow-md hover:bg-rose-700 transition-colors duration-300">
                    Toutes les bibliographies
                </a>
            </div>

    </section>
    ```
                      <section class="mt-12 not-prose">
                          <h2>Nouveautés</h2>
                         <search-carousel 
            titleLink="https://mon-psb.alma.exlibrisgroup.com/nde/search?query=droit%20propriété%20nitellectuelle&tab=Everything&search_scope=MyInst_and_CI&pfilter=rtype,exact,books&searchInFulltext=false&vid=33MON_INST:33UM_NDE_VU1&lang=fr" 
            defaultThumbnailUrl="https://proxy-eu.hosted.exlibrisgroup.com/exl_rewrite/syndetics.com/index.php?client=primo" 
            searchUrl="https://mon-psb.alma.exlibrisgroup.com/primaws/rest/external/pnxs?citationTrailFilterByAvailability=true&limit=10&newspapersActive=false&newspapersSearch=false&offset=0&pcAvailability=false&scope=MyInst_and_CI&searchInFulltextUserSelection=false&disableCache=false&skipDelivery=Y&sort=rank&tab=Everything&inst=33MON_INST&rapido=false&refEntryActive=false&rtaLinks=true&qInclude=&qExclude=&multiFacets=&q=any%2Ccontains%2Cdroit%20propriété%20nitellectuelle%2CAND%3Brtype%2Cexact%2Cbooks&isCDSearch=false&featuredNewspapersIssnList=&lang=fr&explain=&otbRanking=&vid=33MON_INST:33UM_NDE_VU1"> 
        </search-carousel>
                    </section>

   <section class="mt-12 bg-stone-100 py-16 -mx-6 sm:-mx-8 px-6 sm:px-8">
        
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6">

            <a href="#" class="not-prose block p-6 rounded-lg shadow-md transition-all hover:shadow-lg bg-white">
                <div class="flex flex-col items-center text-center h-full justify-center">
                    <span class="material-symbols-outlined text-rose-600 text-4xl mb-3">help</span>
                    <span class="text-lg font-semibold text-gray-800">Vous ne trouvez pas ?</span>
                </div>
            </a>

            <a href="#" class="not-prose block p-6 rounded-lg shadow-md transition-all hover:shadow-lg bg-white">
                <div class="flex flex-col items-center text-center h-full justify-center">
                    <span class="material-symbols-outlined text-rose-600 text-4xl mb-3">menu_book</span>
                    <span class="text-lg font-semibold text-gray-800">Suggérer un achat</span>
                </div>
            </a>

            <a href="#" class="not-prose block p-6 rounded-lg shadow-md transition-all hover:shadow-lg bg-white">
                <div class="flex flex-col items-center text-center h-full justify-center">
                    <span class="material-symbols-outlined text-rose-600 text-4xl mb-3">volunteer_activism</span>
                    <span class="text-lg font-semibold text-gray-800">Proposer un don</span>
                </div>
            </a>

             <a href="#" class="not-prose block p-6 rounded-lg shadow-md transition-all hover:shadow-lg bg-white">
                <div class="flex flex-col items-center text-center h-full justify-center">
                    <span class="material-symbols-outlined text-rose-600 text-4xl mb-3">library_books</span>
                    <span class="text-lg font-semibold text-gray-800">Enseigant : transmettre une bibliographie</span>
                </div>
            </a>

        </div>
    </section>

                    <section class="mt-12">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 items-stretch">

            <a href="https://olivierscdum.github.io/maquette/BU_richter.html" class="not-prose block md:col-span-2 rounded-lg shadow-md overflow-hidden transition-all hover:shadow-lg group">
                <img src="https://lh3.googleusercontent.com/gps-cs-s/AG0ilSyy1_rJo5GR3rgJXR7vc-53wtn0GzyGVJ_yVhqip32SW9Pp8PG7NBCn5GkuCS19Bv8TElza_qISeMbcrsIodWkCCQZNngvFnnRGBcOZ0F-tuzje3guaAtfA7pnaUotsMm38n4gZyA=s1360-w1360-h1020-rw" 
                     alt="Photo de la BU Richter" 
                     class="w-full h-56 md:h-full object-cover transition-transform group-hover:scale-105 duration-300">
            </a>

            <a href="#" class="not-prose block p-6 rounded-lg shadow-md transition-all hover:shadow-lg bg-white flex flex-col items-center justify-center text-center group">
                <h2 class="text-2xl font-bold text-gray-800 transition-colors group-hover:text-rose-600">
                    BU Richter
                </h2>
            </a>

        </div>
    </section>

                    <section class="mt-12 bg-stone-100 py-16 -mx-6 sm:-mx-8 px-6 sm:px-8">


        <a href="#" class="not-prose group block max-w-md mx-auto bg-white rounded-lg shadow-md p-6 flex items-center gap-6 transition-all hover:shadow-lg">
            
            <div class="flex-shrink-0">
                <span class="material-symbols-outlined text-rose-600 text-6xl">
                    account_circle </span>
            </div>
            
            <div class="text-left">
                <span class="text-lg font-semibold text-gray-800 transition-colors group-hover:text-rose-600">
                    Contactez votre référent documentaire
                </span>
            </div>
            
        </a>

    </section>
    
    
     
                   
                </div>
            </main> </div>
    </div> 

    <div id="footer-container"></div>
    
    <script>
    // --- 1. CHARGEMENT DU HEADER ---
    fetch('header.html')
        .then(response => {
            if (!response.ok) throw new Error('Erreur chargement header');
            return response.text();
        })
        .then(data => {
            document.getElementById('header-container').innerHTML = data;

            // IMPORTANT : On charge le script du menu UNIQUEMENT quand le header est là
            const script = document.createElement('script');
            script.src = 'js/menu_de_navigation.js'; 
            document.body.appendChild(script);
        })
        .catch(error => console.error('Problème Header:', error));

    // --- 2. CHARGEMENT DU FOOTER ---
    fetch('footer.html')
        .then(response => {
            if (!response.ok) throw new Error('Erreur chargement footer');
            return response.text();
        })
        .then(data => {
            document.getElementById('footer-container').innerHTML = data;
        })
        .catch(error => console.error('Problème Footer:', error));
</script>

     <script>
            // --- SCRIPT 2: "Scroll-Spy" pour surligner le menu en fonction du défilement ---
            if(sections.length > 0 && navLinks.length > 0) {
                const observer = new IntersectionObserver((entries) => {
                    
                    // On trouve la dernière entrée visible (la plus basse à l'écran)
                    const visibleEntries = entries.filter(entry => entry.isIntersecting);
                    const lastVisibleEntry = visibleEntries[visibleEntries.length - 1];

                    // MODIFIÉ: On n'efface l'état que si une NOUVELLE section est activement détectée.
                    // Cela préserve l'état initial (Script 3) si l'observateur se déclenche "à vide".
                    if (lastVisibleEntry) {

                        // 1. D'abord, on efface tous les liens actifs (L3)
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                        });
                        
                        // 2. On efface tous les 'toggles' L2 actifs
                        document.querySelectorAll('.side-nav-toggle.active').forEach(toggle => {
                            // On ne retire pas 'active' du L1 principal (marqué par le Script 3)
                            if (!toggle.hasAttribute('data-default-active')) {
                                toggle.classList.remove('active');
                            }
                        });


                        // 3. Maintenant, on active le bon lien
                        const id = lastVisibleEntry.target.getAttribute('id');
                        const activeLink = document.querySelector(`.side-nav-sublink[href="#${id}"]`);
                        
                        if (activeLink) {
                            // Activer le lien L3
                            activeLink.classList.add('active');
                            
                            // Activer le parent L2 (s'il existe)
                            const l2Submenu = activeLink.closest('.side-nav-submenu');
                            if (l2Submenu) {
                                const l2Toggle = l2Submenu.previousElementSibling;
                                if (l2Toggle && l2Toggle.classList.contains('side-nav-toggle')) {
                                    l2Toggle.classList.add('active');
                                }
                            }
                        }
                    }
               }, { 
                    rootMargin: '-180px 0px -80% 0px', 
                    threshold: 0
                });

                sections.forEach(section => {
                    observer.observe(section);
                });
            }

            // --- SCRIPT 3: Ouverture de TOUS les accordéons parents si on arrive avec une ancre (#) ---
            if (window.location.hash) {
                const hash = window.location.hash;
                const targetLink = document.querySelector(`.side-nav-sublink[href="${hash}"]`);
                
                if (targetLink) {
                    // (On efface d'abord les classes "par défaut" codées en dur)
                    document.querySelectorAll('.side-nav-toggle.active').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.icon-toggle.rotate-90').forEach(i => i.classList.remove('rotate-90'));
                    document.querySelectorAll('.side-nav-submenu:not(.hidden)').forEach(s => s.classList.add('hidden'));

                    // Boucle pour remonter et ouvrir tous les parents
                    let current = targetLink;
                    while (current = current.closest('.side-nav-submenu')) {
                        if (current.classList.contains('hidden')) {
                            const toggle = current.previousElementSibling;
                            const icon = toggle.querySelector('.icon-toggle');
                            
                            current.classList.remove('hidden');
                            toggle.classList.add('active'); // Ouvre et met en rouge le parent
                            if (icon) {
                                icon.classList.add('rotate-90');
                            }
                        }
                        current = current.parentElement; 
                    }
                    targetLink.classList.add('active');
                }
            } else {
                // --- COMPORTEMENT PAR DÉFAUT (SI PAS D'ANCRE) ---
                // Ouvre L1 ("Ressources") > L2 ("Par discipline") > L3 ("Droit")
                
                const ressourcesToggle = document.querySelectorAll('.side-nav-toggle')[1]; // [1]=Ressources
                if(ressourcesToggle) {
                    const submenuL1 = ressourcesToggle.nextElementSibling;
                    const iconL1 = ressourcesToggle.querySelector('.icon-toggle');
                    
                    ressourcesToggle.classList.add('active'); // L1 Chapeau est ROUGE
                    // On le marque comme "parent" pour que le scroll-spy ne l'efface pas
                    ressourcesToggle.setAttribute('data-default-active', 'true'); 
                    
                    if (submenuL1) {
                        submenuL1.classList.remove('hidden'); // L1 sous-menu est visible
                    }
                    if(iconL1) {
                        iconL1.classList.add('rotate-90'); // L1 icône est tournée
                    }
                    
                    // Cible le L2 'toggle' ("Par discipline")
                    const disciplineToggle = submenuL1.querySelectorAll('.side-nav-toggle')[0]; // [0=Par discipline]
                    if (disciplineToggle) {
                        const submenuL2 = disciplineToggle.nextElementSibling;
                        const iconL2 = disciplineToggle.querySelector('.icon-toggle');

                        disciplineToggle.classList.add('active'); // L2 est ROUGE
                        if (submenuL2) {
                           submenuL2.classList.remove('hidden'); // L2 sous-menu est visible
                        }
                        if(iconL2) {
                            iconL2.classList.add('rotate-90'); // L2 icône est tournée
                        }

                        // Cible le L3 link ("Droit")
                        const droitLink = submenuL2.querySelector('a[href="#discipline"]');
                        if (droitLink) {
                            droitLink.classList.add('active'); // L3 link is ROUGE
                        }
                    }
                }
            }

        });
    </script>

</body>
</html>
